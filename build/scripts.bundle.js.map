{"version":3,"sources":["webpack:///webpack/bootstrap c9470d73890b89c88a38","webpack:///./src/scripts/index.js","webpack:///./src/scripts/news-service.js"],"names":["newsService","getChannels","newsApiKey","newsApiBaseAddress","NewsService","selector","fetch","method","then","response","json","infoContainer","document","querySelector","data","sources","forEach","subContainer","createElement","classList","add","onclick","event","getNews","element","id","channelTitle","innerText","name","newElement","appendChild","channelId","currentChannelBlock","fetchNews","hasChildNodes","firstChild","removeChild","ok","articles","createNewsBlock","createErrorBlock","catch","params","console","log","stopPropagation","title","innerHTML","href","url","paragraph","description","image","setAttribute","urlToImage","location"],"mappings":"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","file":"scripts.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap c9470d73890b89c88a38","import { NewsService } from './news-service';\r\n\r\nlet newsService = new NewsService();\r\nnewsService.getChannels('.container');\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/index.js","const newsApiKey = 'd59e89ef28f2495496fadd4aceef0a34';\r\nconst newsApiBaseAddress = 'https://newsapi.org/';\r\n\r\nexport class NewsService {\r\n  getChannels(selector) {\r\n    fetch(`${newsApiBaseAddress}/v2/sources?apiKey=${newsApiKey}`, {\r\n      method: 'get'\r\n    }).then((response) => {\r\n      response.json().then(data => {\r\n        let infoContainer = document.querySelector(selector);\r\n\r\n        data.sources.forEach(element => {\r\n          let subContainer = document.createElement('div');\r\n          subContainer.classList.add('item');\r\n          subContainer.classList.add('channel-item');\r\n          subContainer.onclick = (event) => this.getNews(element.id);\r\n\r\n          let channelTitle = document.createElement('p');\r\n          channelTitle.innerText = element.name;\r\n\r\n          let newElement = document.createElement('div');\r\n          newElement.id = element.id;\r\n\r\n          subContainer.appendChild(channelTitle);\r\n          subContainer.appendChild(newElement);\r\n\r\n          infoContainer.appendChild(subContainer);\r\n        });\r\n      });\r\n    });\r\n  }\r\n\r\n  getNews(channelId) {\r\n    let currentChannelBlock = document.querySelector(`#${channelId}`);\r\n\r\n    this.fetchNews(currentChannelBlock, channelId);\r\n  }\r\n\r\n  fetchNews(currentChannelBlock, channelId) {\r\n    if (currentChannelBlock.hasChildNodes()) {\r\n      while (currentChannelBlock.firstChild) {\r\n        currentChannelBlock.removeChild(currentChannelBlock.firstChild);\r\n      }\r\n    } else {\r\n      fetch(\r\n        `${newsApiBaseAddress}/v1/articles?source=${channelId}&apiKey=${\r\n          newsApiKey\r\n        }`,\r\n        {\r\n          method: 'get'\r\n        }\r\n      )\r\n        .then((response) => {\r\n          if (response.ok === true) {\r\n            response.json().then(data => {\r\n              data.articles.forEach(element => {\r\n                this.createNewsBlock(currentChannelBlock, element);\r\n              });\r\n            });\r\n          } else {\r\n            this.createErrorBlock(currentChannelBlock);\r\n          }\r\n        })\r\n        .catch((params) => {\r\n          console.log(`Error ${params}`);\r\n        });\r\n    }\r\n  }\r\n\r\n  createNewsBlock(currentChannelBlock, element) {\r\n    let newElement = document.createElement(\"div\");\r\n    newElement.classList.add(\"item\");\r\n    newElement.classList.add(\"news-item\");\r\n    newElement.onclick = (event) => event.stopPropagation();\r\n  \r\n    let title = document.createElement(\"a\");\r\n    title.innerHTML = element.title;\r\n    title.href = element.url;\r\n    title.classList.add(\"news-title\");\r\n  \r\n    let paragraph = document.createElement(\"p\");\r\n    paragraph.innerHTML = element.description;\r\n    paragraph.classList.add(\"news-paragraph\");\r\n  \r\n    let image = document.createElement(\"img\");\r\n    image.setAttribute('src', element.urlToImage);\r\n    image.onclick = () => {\r\n      event.stopPropagation();\r\n      location.href = element.url;\r\n    };\r\n  \r\n    image.classList.add(\"news-image\");\r\n  \r\n    newElement.appendChild(title);\r\n    newElement.appendChild(paragraph);\r\n    newElement.appendChild(image);\r\n    currentChannelBlock.appendChild(newElement);\r\n  }\r\n  \r\n  createErrorBlock(currentChannelBlock) {\r\n    let newElement = document.createElement(\"div\");\r\n    newElement.classList.add(\"item\");\r\n    newElement.classList.add(\"news-item-error\");\r\n    newElement.innerHTML = 'Sorry, there is no news for this channel or some error is occured. Try again later.'\r\n    \r\n    currentChannelBlock.appendChild(newElement);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/news-service.js"],"sourceRoot":""}